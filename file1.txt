updated feature. very complicated stuff

green
logout complicated logic

orange
testing
